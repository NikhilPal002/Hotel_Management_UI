<div class="container">
    <h3 class="room-heading">Edit Staff</h3>
    <ng-container *ngIf="staff; else notFound">
        <form #Form="ngForm" (ngSubmit)="onFormSubmit()" novalidate>
            <div class="form-data">
                <!-- Staff ID (Disabled) -->
                <div class="mb-3">
                    <label class="form-label">Staff ID</label>
                    <input type="text" disabled class="form-control" id="staffId" name="staffId"
                        [(ngModel)]="staff.staffId">
                </div>

                <!-- Full Name -->
                <div class="mb-3">
                    <label class="form-label">Full Name</label>
                    <input type="text" class="form-control" id="fullName" name="fullName" 
                        [(ngModel)]="staff.fullName" required #fullName="ngModel">
                        <div *ngIf="fullName.invalid && fullName.touched" class="text-danger">
                            <small *ngIf="fullName.errors?.['required']">Full Name is required.</small>
                        </div>
                </div>

                <!-- Email -->
                <div class="mb-3">
                    <label class="form-label">Email</label>
                    <input type="email" class="form-control" id="email" name="email" 
                        [(ngModel)]="staff.email" required email #email="ngModel">
                        <div *ngIf="email.invalid && email.touched" class="text-danger">
                            <small *ngIf="email.errors?.['required']">Email is required.</small>
                            <small *ngIf="email.errors?.['email']">Invalid email format.</small>
                        </div>
                </div>

                <!-- Age -->
                <div class="mb-3">
                    <label class="form-label">Age</label>
                    <input type="number" class="form-control" id="age" name="age" 
                        [(ngModel)]="staff.age" required min="18" max="65" #age="ngModel">
                        <div *ngIf="age.invalid && age.touched" class="text-danger">
                            <small *ngIf="age.errors?.['required']">Age is required.</small>
                            <small *ngIf="age.errors?.['min']">Minimum age is 18.</small>
                            <small *ngIf="age.errors?.['max']">Maximum age is 65.</small>
                        </div>
                </div>

                <!-- Address -->
                <div class="mb-3">
                    <label class="form-label">Address</label>
                    <input type="text" class="form-control" id="sAddress" name="sAddress" 
                        [(ngModel)]="staff.sAddress" required #sAddress="ngModel">
                        <div *ngIf="sAddress.invalid && sAddress.touched" class="text-danger">
                            <small *ngIf="sAddress.errors?.['required']">Address is required.</small>
                        </div>
                </div>

                <!-- Salary -->
                <div class="mb-3">
                    <label class="form-label">Salary</label>
                    <input type="number" class="form-control" id="salary" name="salary" 
                        [(ngModel)]="staff.salary" required min="500" #salary="ngModel">
                        <div *ngIf="salary.invalid && salary.touched" class="text-danger">
                            <small *ngIf="salary.errors?.['required']">Salary is required.</small>
                            <small *ngIf="salary.errors?.['min']">Minimum salary is $500.</small>
                        </div>
                </div>

                <!-- Designation -->
                <div class="mb-3">
                    <label class="form-label">Designation</label>
                    <input type="text" class="form-control" id="designation" name="designation"
                         [(ngModel)]="staff.designation" required #designation="ngModel">
                         <div *ngIf="designation.invalid && designation.touched" class="text-danger">
                            <small *ngIf="designation.errors?.['required']">Designation is required.</small>
                        </div>
                </div>

                <!-- Buttons -->
                <div class="col-12">
                    <button class="btn btn-primary" type="submit" [disabled]="Form.invalid">Update Staff</button>
                    <button class="btn btn-danger mt-3" type="button" (click)="onDelete()">Delete</button>
                </div>
            </div>
        </form>
    </ng-container>

    <ng-template #notFound>
        <div class="alert alert-warning" role="alert">
            Staff not found!
        </div>
    </ng-template>
</div>
